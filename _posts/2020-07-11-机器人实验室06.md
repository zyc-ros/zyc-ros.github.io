---
layout:     post                    # 使用的布局（不需要改）
title:      暑期培训06               # 标题 
subtitle:   机器人实验室06, Hello Blog #副标题
date:       2020-07-10             # 时间
author:     BY zyc                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 实验室培训
---


## 一、介绍
UART 全称是通用异步收发传输器（ Universal Asynchronous Receiver/Transmitter)。串口顾名思义
是数据串行接口， 即数据的传输是一位接一位传输，属于一种串行的数据总线， 属于异步通讯， 同时支持全
双工数据传输（全双工数据传输：允许发送数据和接收数据在同一时刻发生）。
除 了 UART ， 另 外 还 有 一 种 叫 USART ， 全 称 是 通 用 同 步 / 异 步 串 行 接 收 / 发 送 器 (Universal
Synchronous/Asynchronous Receiver/Transmitter)， USART 比 UART 多了同步通信功能，但是百分之 90 的
工程应用中不会应用该同步功能，都是将 USART 当做 UART 使用，即采取异步串行通讯。一般开发板或者产
品中都会将 UART 串口标为 serial 或 COM。

## 二、UART 硬件连接
1. UART 串口最精简的连接是 TTL 电平三线连接
UARTx_TXD：用于发送数据， 应连接到接收设备的 UARTx_RXD 引脚上；
UARTx_RXD： 用于接收数据，应连接到发送设备的 UARTx_TXD 引脚上；
GND：为双方提供一个相同的参考电平。

使用标准的 TTL 电平来表示数据， 高电平表示 1， 低电平表
示 0， 标准 TTL 输入高电平最小 2V，输出高电平最小 2.4V， 典型值为 3.4V， 输入低电平最大 0.8V，输出低
电平最大 0.4V，典型值为 0.2V。

> 直接采用 TTL 电平进行串行通讯，由于其抗干扰能力差， 导致传输距离短， 且容易出现数据不可靠的情
况。

> 为提高抗干扰能力和传输距离， 一般采用下面两种硬件连接方式。
RS232 电平规定逻辑“1” 的电平为-5V~-15 V，逻辑“0” 的电平为+5 V～+15 V， 选用该电气标准以提
高抗干扰能力。    
常用的 TTL 转 RS232 芯片有： MAX232， SP3232 等。将 TTL 电平转换为 USB 电平（ D+与 D-一对差分信号采用 NRZI 编码实现通讯），提高抗干扰能力    
常用的 TTL 转 USB 芯片有： PL2303， CH340, CP2102 等

## 三、数据传递
首先我们需要约定好传输速率（每一秒传输的数据位数， 即波特率）， 一般选择 9600,19200,115200 等。
确定好传输速率后， 我们还需要确定传输数据的格式， UART 串口通信的数据包以帧为单位，常用的帧结构为： 1 位起始位+8 位数据位+1 位奇偶校验位（可选） +1 位停止位。
1) 空闲位:
平时没有数据时， 数据线为高电平（逻辑 1）；
2) 起始位:
当需要发送数据时， UART 将改变 UARTx_TXD 的状态，变为低电平，即为上图中的起始位（逻辑 0）；
3) 数据位:
可以有 5、 6、 7 或 8 位的数据， 一般我们是按字节（ 8 位） 传输数据， 发送方一位一位的改变数据线上
的状态（ 高电平或低电平） 将它们发送出去，传输数据时先传最低位， 最后传送最高位。
字符’A’ 的 8 位二进制字符是 0100 0001，先发送最低位 bit 0，其值为 1；再发送 bit 1，其值为 0，
如此继续；最后发送最高位 bit 7，其值为 0。
4) 奇偶校验位
如果使用了奇偶校验功能，有效数据位发送完毕后， 还要发送 1 个校验位（奇偶校验位）。
有两种校验方法：奇校验，偶校验-------数据位连同校验位中，“1”的数目等于奇数或偶数。 奇偶校验只能检错，不能纠错。而且只能检测 1 位误码，检测出有错后只能要求重发，没法纠正。
5) 停止位
停止位（逻辑 1）用来表示当前数据传输完毕。
停止位的长度有三种： 1 位， 1.5 位， 2 位， 通常我们选择 1 位即可。

## 四、串口软件
 我们常用的串口工具有Xcom，我们也可以通过stlink调试，从keil5里直接读取信息。

 ## 五、任务要求
 1，使用HAL库
 2.通过原理图，确定自己板子的外接usart接口
 3.波特率选择9600，不开启中断。
 4.自定义函数，调用函数发送任意信息。

## 六、提交时间
七月17日（周五）晚七点前。
